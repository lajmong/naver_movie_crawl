# naver_movie_crawl
## 0. 사용한 데이터
- 네이버 검색(영화) API
- KOFIC 2018년 관객수 상위 300 영화 (http://www.kobis.or.kr/kobis/business/stat/offc/findYearlyBoxOfficeList.do)

## 1. 파일 설명
### 1-1. kobis_300.py
KOFIC 엑셀 데이터를 다운 받아 2018년 관객수 상위 300 영화만 따로 잘라서 **kobis_300.csv**로 저장한 후, <br>
컬럼값은 `columns1 = ['영화명', '개봉일', '관객수', '대표국적']` 로 지정.

### 1-2. naver_movie.py
KOFIC 엑셀에서 영화 제목을 naver 검색 api에 넣어 각 영화별 고유 코드를 구한다. <br>
영화 고유 코드를 넣은 url에서 `requests`와 `BeautifulSoup`를 사용하여 필요한 정보들을 뽑아온다. <br>
`columns2 = ['네티즌 평점', '기자 평점', '장르', '상영시간', '관람등급', '비디오수']`

### 1-2.1. search_movie()
영화 제목을 입력받아 naver 검색 api를 통해 영화 고유 코드를 전달받음.<br>
**문제 >>** 영화 제목 내의 단어와 일치하는 모든 영화 제목을 출력함. 10개가 넘어가면 찾고 싶은 영화의 고유코드를 찾기 힘듦.<br>
**해결 >>** 영화 제목 일치 여부와 제작년도로 필터링을 거침. 

### 1-2.2. movie_info()
10개가 넘어가는 영화 제목 리스트의 경우에는 `columns2`의 값을 '-'로 지정. (나중에 직접 바꿔야 할듯)<br>
가끔 있어야 할 위치에 정보가 없는 경우는.. 알아서 구분해야 할듯.

### 1-2.3. movie_info_sheet()
`columns1`와 `columns2` 값을 excel sheet에 저장하는 코드. <br>
하지만 영화 고유 아이디를 10개까지만 받아올 수 있는 거 같아서 직접 코드를 많이 쳐야 한다..

## 2. 분석
~~아직 안 함~~


## 3. 후기
코드를 어떻게 해야 할지 모르겠는 부분이 많아서 직접 수정해야 하는 부분이 많을 거 같다.<br>
영화 고유 아이디를 10개씩만 받아와서 redundant code repitition이 많은 거 같지만 어떻게 해야 할지 모르겠음..<br>
분석은 할지 안 할지 모름.
